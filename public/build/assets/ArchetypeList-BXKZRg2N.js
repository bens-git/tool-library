import{_ as he,a as Te}from"./ArchetypeDialog-DzghOjB7.js";import{c as N,g as je,o as Se,a as A,r as k,b as xe,w as q,d as y,u as S,h as Ie,e as G,f as L,t as Oe,i as p,j as qe}from"./app-CNC4IMbH.js";import{P as we}from"./PageLayout-CNk6d9wY.js";import"./api-DLStZGrk.js";import"./loading-CNBH5LN6.js";import"./response-mnBps1vM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";var M,ne;function ge(){if(ne)return M;ne=1;function r(e){var a=typeof e;return e!=null&&(a=="object"||a=="function")}return M=r,M}var W,ae;function Re(){if(ae)return W;ae=1;var r=typeof N=="object"&&N&&N.Object===Object&&N;return W=r,W}var D,oe;function ye(){if(oe)return D;oe=1;var r=Re(),e=typeof self=="object"&&self&&self.Object===Object&&self,a=r||e||Function("return this")();return D=a,D}var F,ie;function Ue(){if(ie)return F;ie=1;var r=ye(),e=function(){return r.Date.now()};return F=e,F}var $,ue;function ke(){if(ue)return $;ue=1;var r=/\s/;function e(a){for(var o=a.length;o--&&r.test(a.charAt(o)););return o}return $=e,$}var H,se;function Ve(){if(se)return H;se=1;var r=ke(),e=/^\s+/;function a(o){return o&&o.slice(0,r(o)+1).replace(e,"")}return H=a,H}var X,le;function _e(){if(le)return X;le=1;var r=ye(),e=r.Symbol;return X=e,X}var z,ce;function Be(){if(ce)return z;ce=1;var r=_e(),e=Object.prototype,a=e.hasOwnProperty,o=e.toString,u=r?r.toStringTag:void 0;function v(m){var f=a.call(m,u),s=m[u];try{m[u]=void 0;var t=!0}catch{}var c=o.call(m);return t&&(f?m[u]=s:delete m[u]),c}return z=v,z}var J,de;function Ce(){if(de)return J;de=1;var r=Object.prototype,e=r.toString;function a(o){return e.call(o)}return J=a,J}var K,me;function Ee(){if(me)return K;me=1;var r=_e(),e=Be(),a=Ce(),o="[object Null]",u="[object Undefined]",v=r?r.toStringTag:void 0;function m(f){return f==null?f===void 0?u:o:v&&v in Object(f)?e(f):a(f)}return K=m,K}var Q,fe;function Ne(){if(fe)return Q;fe=1;function r(e){return e!=null&&typeof e=="object"}return Q=r,Q}var Y,ve;function Ae(){if(ve)return Y;ve=1;var r=Ee(),e=Ne(),a="[object Symbol]";function o(u){return typeof u=="symbol"||e(u)&&r(u)==a}return Y=o,Y}var Z,be;function Pe(){if(be)return Z;be=1;var r=Ve(),e=ge(),a=Ae(),o=NaN,u=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,m=/^0o[0-7]+$/i,f=parseInt;function s(t){if(typeof t=="number")return t;if(a(t))return o;if(e(t)){var c=typeof t.valueOf=="function"?t.valueOf():t;t=e(c)?c+"":c}if(typeof t!="string")return t===0?t:+t;t=r(t);var b=v.test(t);return b||m.test(t)?f(t.slice(2),b?2:8):u.test(t)?o:+t}return Z=s,Z}var ee,pe;function Ge(){if(pe)return ee;pe=1;var r=ge(),e=Ue(),a=Pe(),o="Expected a function",u=Math.max,v=Math.min;function m(f,s,t){var c,b,x,h,d,T,I=0,V=!1,_=!1,j=!0;if(typeof f!="function")throw new TypeError(o);s=a(s)||0,r(t)&&(V=!!t.leading,_="maxWait"in t,x=_?u(a(t.maxWait)||0,s):x,j="trailing"in t?!!t.trailing:j);function w(i){var l=c,U=b;return c=b=void 0,I=i,h=f.apply(U,l),h}function B(i){return I=i,d=setTimeout(n,s),V?w(i):h}function P(i){var l=i-T,U=i-I,re=s-l;return _?v(re,x-U):re}function g(i){var l=i-T,U=i-I;return T===void 0||l>=s||l<0||_&&U>=x}function n(){var i=e();if(g(i))return C(i);d=setTimeout(n,P(i))}function C(i){return d=void 0,j&&c?w(i):(c=b=void 0,h)}function R(){d!==void 0&&clearTimeout(d),I=0,c=T=b=d=void 0}function E(){return d===void 0?h:C(e())}function O(){var i=e(),l=g(i);if(c=arguments,b=this,T=i,l){if(d===void 0)return B(T);if(_)return clearTimeout(d),d=setTimeout(n,s),w(T)}return d===void 0&&(d=setTimeout(n,s)),h}return O.cancel=R,O.flush=E,O}return ee=m,ee}var Le=Ge();const te=je(Le),Me={style:{width:"100%","max-width":"420px"}},Je={__name:"ArchetypeList",setup(r){const e=p([]),a=p([]),o=p([]),u=p({page:1,itemsPerPage:10,sortBy:[{key:"updated_at",order:"desc"},{key:"name",order:"asc"}]}),v=p(""),m=p([]),f=p(0),s=p(null),t=p(null),c=p(null),b=p(null),x=async g=>{const n=await A.get(route("brands.index"),{params:{query:g}});o.value=n.data.data},h=async g=>{const n=await A.get(route("categories.index"),{params:{query:g}});e.value=n.data.data},d=async g=>{const n=await A.get(route("usages.index"),{params:{query:g}});a.value=n.data.data},T=te(h,300),I=te(x,300),V=te(d,300),_=he.debounce(()=>{B()},300);Se(async()=>{h(),x(),d()});const j=p(!1),w=()=>{j.value=!j.value};async function B(){const g={page:u.value.page,itemsPerPage:u.value.itemsPerPage,sortBy:u.value.sortBy,search:v.value,categoryId:s.value,usageId:t.value,resource:c.value},n=await A.get(route("archetypes.index"),{params:g});m.value=n.data,f.value=n.total}const P=async()=>{v.value="",s.value=null,t.value=null,c.value=null,await B()};return(g,n)=>{const C=k("v-text-field"),R=k("v-autocomplete"),E=k("v-icon"),O=k("v-btn"),i=k("v-container");return qe(),xe(we,null,{default:q(()=>[y(S(Ie),{title:"Types"}),y(i,{fluid:"",class:"d-flex align-center justify-center pa-4"},{default:q(()=>[G("div",Me,[n[6]||(n[6]=G("div",{class:"d-flex justify-space-between align-center mb-4"},[G("div",{class:"text-h5 font-weight-bold"},"Types")],-1)),y(C,{modelValue:v.value,"onUpdate:modelValue":n[0]||(n[0]=l=>v.value=l),density:"compact",label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":"",onInput:S(_)},null,8,["modelValue","onInput"]),y(R,{modelValue:s.value,"onUpdate:modelValue":[n[1]||(n[1]=l=>s.value=l),S(_)],density:"compact",items:e.value,label:"Category","item-title":"name","item-value":"id",clearable:!0,"onUpdate:search":S(T)},null,8,["modelValue","items","onUpdate:modelValue","onUpdate:search"]),y(R,{modelValue:t.value,"onUpdate:modelValue":[n[2]||(n[2]=l=>t.value=l),S(_)],density:"compact",items:a.value,label:"Usage","item-title":"name","item-value":"id",clearable:!0,"onUpdate:search":S(V)},null,8,["modelValue","items","onUpdate:modelValue","onUpdate:search"]),y(R,{modelValue:b.value,"onUpdate:modelValue":[n[3]||(n[3]=l=>b.value=l),S(_)],density:"compact",items:o.value,label:"Brand","item-title":"name","item-value":"id","hide-no-data":"","hide-details":"","return-object":"",clearable:"","onUpdate:search":S(I)},null,8,["modelValue","items","onUpdate:modelValue","onUpdate:search"]),y(O,{color:j.value?"primary":"default",variant:"outlined",onClick:w},{default:q(()=>[y(E,null,{default:q(()=>[L(Oe(j.value?"mdi-check":"mdi-filter-outline"),1)]),_:1}),n[4]||(n[4]=L(" Show Mine ",-1))]),_:1},8,["color"]),y(Te,{aim:"create"}),y(O,{variant:"tonal",class:"text-none font-weight-regular",color:"primary",onClick:P},{default:q(()=>[y(E,null,{default:q(()=>[...n[5]||(n[5]=[L("mdi-refresh",-1)])]),_:1})]),_:1})])]),_:1})]),_:1})}}};export{Je as default};
