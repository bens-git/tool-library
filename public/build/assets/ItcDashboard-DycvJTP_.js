import{o as V,r as a,b as w,w as t,d as e,u as E,h as P,f as s,t as r,j as v,m as T,F as j,z as M,e as z,n as R,a as U,i as C,A as W}from"./app-CNC4IMbH.js";import{P as A}from"./PageLayout-CNk6d9wY.js";import"./loading-CNBH5LN6.js";import"./response-mnBps1vM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={key:1,class:"text-center pa-4"},X={__name:"ItcDashboard",setup(q){const k=C(0),x=C({lifetime_earned:0,lifetime_spent:0,transaction_count:0}),b=C([]),y=o=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o||0),S=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),L=()=>{W.visit(route("itc.info"))},B=async()=>{try{const o=await U.get(route("itc.dashboard"));k.value=o.data.balance,x.value=o.data.stats,b.value=o.data.recent_transactions||[]}catch(o){console.error("Failed to load ITC dashboard:",o)}};return V(()=>{B()}),(o,l)=>{const i=a("v-icon"),d=a("v-card-title"),u=a("v-card-text"),F=a("v-card-subtitle"),m=a("v-card"),f=a("v-col"),g=a("v-row"),c=a("v-list-item-title"),_=a("v-list-item-subtitle"),p=a("v-list-item"),D=a("v-list"),I=a("v-btn"),N=a("v-container");return v(),w(A,{title:"Time Credits Dashboard"},{default:t(()=>[e(E(P),{title:"Time Credits Dashboard"}),e(N,{fluid:""},{default:t(()=>[e(g,null,{default:t(()=>[e(f,{cols:"12",md:"4"},{default:t(()=>[e(m,{class:"pa-4 fill-height",color:"primary",dark:""},{default:t(()=>[e(d,{class:"text-h4"},{default:t(()=>[e(i,{size:"32",class:"mr-2"},{default:t(()=>[...l[0]||(l[0]=[s("mdi-currency-usd",-1)])]),_:1}),l[1]||(l[1]=s(" Current Balance ",-1))]),_:1}),e(u,{class:"text-h2 font-weight-bold"},{default:t(()=>[s(r(y(k.value))+" ITC ",1)]),_:1}),e(F,{class:"text-body-1"},{default:t(()=>[...l[2]||(l[2]=[s(" Welcome to the Time Credit System! ",-1)])]),_:1})]),_:1})]),_:1}),e(f,{cols:"12",md:"4"},{default:t(()=>[e(m,{class:"pa-4 fill-height",color:"success",dark:""},{default:t(()=>[e(d,{class:"text-h6"},{default:t(()=>[...l[3]||(l[3]=[s("Lifetime Earned",-1)])]),_:1}),e(u,{class:"text-h5"},{default:t(()=>[s(" +"+r(y(x.value.lifetime_earned)),1)]),_:1})]),_:1})]),_:1}),e(f,{cols:"12",md:"4"},{default:t(()=>[e(m,{class:"pa-4 fill-height",color:"error",dark:""},{default:t(()=>[e(d,{class:"text-h6"},{default:t(()=>[...l[4]||(l[4]=[s("Lifetime Spent",-1)])]),_:1}),e(u,{class:"text-h5"},{default:t(()=>[s(" -"+r(y(x.value.lifetime_spent)),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{class:"mt-4"},{default:t(()=>[e(f,{cols:"12",md:"8"},{default:t(()=>[e(m,{class:"fill-height"},{default:t(()=>[e(d,null,{default:t(()=>[...l[5]||(l[5]=[s("Recent Transactions",-1)])]),_:1}),e(u,null,{default:t(()=>[b.value.length?(v(),w(D,{key:0},{default:t(()=>[(v(!0),T(j,null,M(b.value,n=>(v(),w(p,{key:n.id},{prepend:t(()=>[e(i,{color:n.amount>=0?"success":"error"},{default:t(()=>[s(r(n.amount>=0?"mdi-plus":"mdi-minus"),1)]),_:2},1032,["color"])]),default:t(()=>[e(c,null,{default:t(()=>[z("span",{class:R(n.amount>=0?"text-success":"text-error")},r(y(n.amount))+" ITC ",3)]),_:2},1024),e(_,null,{default:t(()=>[s(r(n.description||n.category)+" - "+r(S(n.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(v(),T("div",H," No transactions yet. Start by borrowing or lending tools! "))]),_:1})]),_:1})]),_:1}),e(f,{cols:"12",md:"4"},{default:t(()=>[e(m,{class:"fill-height d-flex flex-column","min-height":"300"},{default:t(()=>[e(d,{class:"d-flex align-center justify-space-between flex-grow-0 flex-wrap"},{default:t(()=>[l[7]||(l[7]=z("span",null,"How it Works",-1)),e(I,{color:"primary",variant:"tonal","prepend-icon":"mdi-information",size:"small",class:"ml-2",onClick:L},{default:t(()=>[...l[6]||(l[6]=[s(" Learn More ",-1)])]),_:1})]),_:1}),e(u,{class:"flex-grow-1 overflow-auto"},{default:t(()=>[e(D,{density:"compact"},{default:t(()=>[e(p,null,{prepend:t(()=>[e(i,{color:"success",size:"small"},{default:t(()=>[...l[8]||(l[8]=[s("mdi-plus-circle",-1)])]),_:1})]),default:t(()=>[e(c,{class:"text-body-2"},{default:t(()=>[...l[9]||(l[9]=[s("Earn Credits",-1)])]),_:1}),e(_,{class:"text-caption"},{default:t(()=>[...l[10]||(l[10]=[s(" Lend tools to others to earn credits. ",-1)])]),_:1})]),_:1}),e(p,null,{prepend:t(()=>[e(i,{color:"error",size:"small"},{default:t(()=>[...l[11]||(l[11]=[s("mdi-minus-circle",-1)])]),_:1})]),default:t(()=>[e(c,{class:"text-body-2"},{default:t(()=>[...l[12]||(l[12]=[s("Spend Credits",-1)])]),_:1}),e(_,{class:"text-caption"},{default:t(()=>[...l[13]||(l[13]=[s(" Borrow tools using credits. ",-1)])]),_:1})]),_:1}),e(p,null,{prepend:t(()=>[e(i,{color:"warning",size:"small"},{default:t(()=>[...l[14]||(l[14]=[s("mdi-vote",-1)])]),_:1})]),default:t(()=>[e(c,{class:"text-body-2"},{default:t(()=>[...l[15]||(l[15]=[s("Vote on Rates",-1)])]),_:1}),e(_,{class:"text-caption"},{default:t(()=>[...l[16]||(l[16]=[s(" Participate in community voting. ",-1)])]),_:1})]),_:1}),e(p,null,{prepend:t(()=>[e(i,{color:"info",size:"small"},{default:t(()=>[...l[17]||(l[17]=[s("mdi-clock-outline",-1)])]),_:1})]),default:t(()=>[e(c,{class:"text-body-2"},{default:t(()=>[...l[18]||(l[18]=[s("Decay",-1)])]),_:1}),e(_,{class:"text-caption"},{default:t(()=>[...l[19]||(l[19]=[s(" Credits may decay over time. ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(g,{class:"mt-4"},{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(m,{class:"pa-4"},{default:t(()=>[e(d,{class:"text-h6"},{default:t(()=>[...l[20]||(l[20]=[s("Total Transactions",-1)])]),_:1}),e(u,{class:"text-h5"},{default:t(()=>[s(r(x.value.transaction_count),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{X as default};
